@import "tailwindcss";

/* ═══════════════════════════════════════════════════
   Theme — replaces the old inline tailwind.config
   ═══════════════════════════════════════════════════ */
@theme {
  --font-sans: 'Inter', sans-serif;

  --color-brand-primary: #0D47A1;
  --color-brand-secondary: #1976D2;
  --color-brand-accent: #42A5F5;
  --color-brand-text: #1F2937;
  --color-brand-bg: #F9FAFB;

  --shadow-card: 0 4px 6px -1px rgb(0 0 0 / 0.05), 0 2px 4px -2px rgb(0 0 0 / 0.05);
  --shadow-card-hover: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);

  --animate-pulse-slow: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* ═══════════════════════════════════════════════════
   vis-network tooltip (used in CurriculumGraphView)
   ═══════════════════════════════════════════════════ */
.vis-network-tooltip {
  position: absolute;
  background-color: #fff;
  border: 1px solid #ddd;
  border-radius: 5px;
  padding: 10px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  z-index: 10;
  max-width: 300px;
  font-family: 'Inter', sans-serif;
  font-size: 14px;
  color: #333;
}

/* ═══════════════════════════════════════════════════
   Intro.js tour overrides
   ═══════════════════════════════════════════════════ */
.introjs-tooltip {
  font-family: 'Inter', sans-serif;
  border-radius: 8px;
}
.introjs-button {
  text-shadow: none;
  border-radius: 6px;
  font-weight: 600;
  transition-duration: 200ms;
}
.introjs-button.introjs-nextbutton {
  background-color: #1976D2;
  border: 1px solid #1976D2;
}
.introjs-button.introjs-nextbutton:hover {
  background-color: #0D47A1;
}
.introjs-button.introjs-prevbutton,
.introjs-button.introjs-skipbutton {
  background-color: #E0E0E0;
  color: #333;
  border: 1px solid #E0E0E0;
}
.introjs-button.introjs-prevbutton:hover,
.introjs-button.introjs-skipbutton:hover {
  background-color: #BDBDBD;
}
.introjs-progress .introjs-progressbar {
  background-color: #42A5F5;
}

/* ═══════════════════════════════════════════════════
   Base / global styles
   ═══════════════════════════════════════════════════ */
body {
  font-family: 'Inter', sans-serif;
  background-color: #F9FAFB;
  background-image: radial-gradient(#E5E7EB 0.5px, transparent 0.5px);
  background-size: 16px 16px;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Global Transitions for interactive elements only */
a, button, input, select, textarea,
[role="button"], [role="tab"], [role="menuitem"],
.card, .transition-colors, .transition-all {
  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 200ms;
}

/* Micro-interaction: Button active state scale */
button:active:not(:disabled) {
  transform: scale(0.97);
}

/* ═══════════════════════════════════════════════════
   Print styles
   ═══════════════════════════════════════════════════ */
@media print {
  body * {
    visibility: hidden;
  }

  #printable-area, #printable-area *,
  #printable-analysis, #printable-analysis *,
  #printable-flashcards, #printable-flashcards *,
  .printable-root, .printable-root * {
    visibility: visible;
  }

  #printable-area, #printable-analysis, #printable-flashcards {
    position: absolute !important;
    left: 0 !important;
    top: 0 !important;
    width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
    box-shadow: none !important;
    border: none !important;
  }

  .printable-root {
    position: static !important;
  }

  body {
    background: #fff !important;
    background-image: none !important;
    font-family: 'Times New Roman', serif;
    font-size: 12pt;
    line-height: 1.3;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  *, *::before, *::after {
    transition: none !important;
    animation: none !important;
  }

  h1, h2, h3, h4, p, li, span, div, a {
    color: #000 !important;
    text-decoration: none;
  }
  a[href]:after {
    content: none !important;
  }
  .prose {
    max-width: 100% !important;
  }
  .card {
    border: 1px solid #ddd !important;
    box-shadow: none !important;
  }

  .printable-flashcard {
    page-break-inside: avoid;
    border: 1px solid #ccc;
    border-radius: 8px;
    padding: 16px;
    margin-bottom: 16px;
  }

  .katex-html {
    color: #000 !important;
  }
  .katex {
    font-size: 1.1em !important;
  }

  h1, h2, h3 {
    page-break-after: avoid;
  }
  .card, table, ul, ol, figure {
    page-break-inside: avoid;
  }

  @page {
    margin: 0.75in;
  }

  .no-print {
    display: none !important;
    visibility: hidden !important;
  }
}

/* ═══════════════════════════════════════════════════
   Accessibility
   ═══════════════════════════════════════════════════ */
:focus-visible {
  outline: 2px solid #60A5FA;
  outline-offset: 2px;
  border-radius: 6px;
}

/* ═══════════════════════════════════════════════════
   Custom animations / keyframes
   ═══════════════════════════════════════════════════ */
@keyframes fade-in-up {
  from { opacity: 0; transform: translateY(10px) scale(0.98); }
  to   { opacity: 1; transform: translateY(0) scale(1); }
}
.animate-fade-in-up {
  animation: fade-in-up 0.3s ease-out forwards;
}

@keyframes fade-out {
  from { opacity: 1; }
  to   { opacity: 0; }
}
.animate-fade-out {
  animation: fade-out 0.3s ease-out forwards;
}

@keyframes slide-out-left {
  from { opacity: 1; transform: translateX(0); }
  to   { opacity: 0; transform: translateX(-100%); }
}
.animate-slide-out-left {
  animation: slide-out-left 0.25s ease-in forwards;
}

@keyframes slide-in-from-right {
  from { opacity: 0; transform: translateX(100%); }
  to   { opacity: 1; transform: translateX(0); }
}
.animate-slide-in-from-right {
  animation: slide-in-from-right 0.25s ease-out forwards;
}

@keyframes slide-out-right {
  from { opacity: 1; transform: translateX(0); }
  to   { opacity: 0; transform: translateX(100%); }
}
.animate-slide-out-right {
  animation: slide-out-right 0.25s ease-in forwards;
}

@keyframes slide-in-from-left {
  from { opacity: 0; transform: translateX(-100%); }
  to   { opacity: 1; transform: translateX(0); }
}
.animate-slide-in-from-left {
  animation: slide-in-from-left 0.25s ease-out forwards;
}

@keyframes pulse-bg-blue {
  0%, 100% { background-color: #EFF6FF; }
  50%      { background-color: #DBEAFE; }
}
.animate-pulse-bg-blue {
  animation: pulse-bg-blue 2s ease-in-out;
}

/* ═══════════════════════════════════════════════════
   KaTeX math rendering
   ═══════════════════════════════════════════════════ */
.katex {
  font-size: 1.05em !important;
  line-height: 1.2;
}
.math-placeholder {
  display: inline-block;
  height: 1em;
  background-color: #e0e0e0;
  border-radius: 4px;
  animation: shimmer 1.5s infinite linear;
  background-image: linear-gradient(to right, #e0e0e0 0%, #f0f0f0 50%, #e0e0e0 100%);
  background-repeat: no-repeat;
  background-size: 200% 100%;
  vertical-align: text-bottom;
}
@keyframes shimmer {
  0%   { background-position: 100% 0; }
  100% { background-position: -100% 0; }
}

/* ═══════════════════════════════════════════════════
   AI Output / Prose styles
   ═══════════════════════════════════════════════════ */
.prose h1, .prose h2, .prose h3, .prose h4 {
  color: #0D47A1;
  font-weight: 700;
}
.prose h1 {
  font-size: 1.875rem;
  border-bottom: 2px solid #42A5F5;
  padding-bottom: 0.5rem;
  margin-bottom: 1rem;
}
.prose h2 {
  font-size: 1.5rem;
  border-bottom: 1px solid #90CAF9;
  padding-bottom: 0.4rem;
  margin-top: 2rem;
  margin-bottom: 1rem;
}
.prose h3 {
  font-size: 1.25rem;
  color: #1976D2;
  margin-top: 1.5rem;
  margin-bottom: 0.75rem;
}
.prose p {
  line-height: 1.7;
  margin-bottom: 1.25em;
}
.prose ul, .prose ol {
  padding-left: 1.25rem;
  margin-bottom: 1.25em;
}
.prose li {
  margin-bottom: 0.5em;
}
.prose ul > li::marker {
  color: #42A5F5;
}
.prose strong {
  color: #1F2937;
  font-weight: 600;
}
.prose code {
  background-color: #E0E7FF;
  color: #3730A3;
  padding: 0.2em 0.4em;
  border-radius: 4px;
  font-size: 0.9em;
}
.prose blockquote {
  border-left-color: #42A5F5;
  padding-left: 1em;
  font-style: italic;
  color: #4B5563;
}
